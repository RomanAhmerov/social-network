{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.module.css","assets/images/preloader.svg","components/common/Preloader/Preloader.tsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","components/Profile/ProfileInfo/ProfileDataForm/ProfileDataForm.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/MyPosts/Post/Post.tsx","assets/images/like.png","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx"],"names":["module","exports","Preloader","src","preloader","style","backgroundColor","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","StyledStatusWrapper","onClick","StyledProfileStatusTitle","StyledProfileStatusWrapper","StyledInput","onBlur","updateStatus","onChange","e","currentTarget","value","autoFocus","background","backgroundInput","styled","input","div","h4","ProfileDataReduxForm","reduxForm","form","handleSubmit","profile","error","Container","margin","onSubmit","className","formSummaryError","Li","Flex","align","StyledItemTitleWrapper","Field","placeholder","name","component","Input","Checkbox","type","Textarea","StyledItemSubTitleWrapper","padding","Object","keys","contacts","map","key","justify","Button","ProfileData","isOwner","goToEditMode","StyledInfoWrapper","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contactTitle","contactValue","ContactItem","Contact","ProfileInfo","savePhoto","saveProfile","editAva","setEditAva","StyledAvaWrapper","photos","large","userPhoto","s","mainPhoto","StyledInputAvaWrapper","target","files","length","StyledProfileName","StyledProfileInfoTitle","formData","then","initialValues","Post","StyledPostWrapper","backgroundPosts","item","photo","direction","message","StyledLikeWrapper","StyledLike","likesCount","MyPosts","maxLengthCreator","React","memo","postsElements","posts","reverse","p","id","StyledProfilePostTitle","match","params","userId","AddNewPostReduxForm","addPost","newPostText","reset","StyledPostsWrapper","validate","required","MyPostsContainer","compose","connect","state","profilePage","app","theme","section","backgroundSecondary","actions","addPostActionCreator","withRouter","Profile","maxWidth","TitleSection","title","isAuth","ProfileContainer","this","authorizedUserId","history","push","getUserProfile","getStatus","console","refreshProfile","prevProps","prevState","Section","height","Component","auth","sidebar"],"mappings":"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","file":"static/js/3.21557750.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainPhoto\":\"ProfileInfo_mainPhoto__1icQS\",\"contact\":\"ProfileInfo_contact__qULns\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3ui-P\"};","export default __webpack_public_path__ + \"static/media/preloader.4046923e.svg\";","import React from \"react\";\r\nimport preloader from \"../../../assets/images/preloader.svg\";\r\n\r\n\r\n\r\nlet Preloader = () => {\r\n    return (\r\n        <div>\r\n            <img src={preloader} style={ {backgroundColor: 'transparent'} } />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Preloader;","import React, {ChangeEvent, useEffect, useState} from 'react';\r\nimport styled from \"styled-components\";\r\n\r\n// Type (TS)\r\ntype PropsType = {\r\n        status: string\r\n        updateStatus: (status: string) => void\r\n        backgroundInput?: string\r\n}\r\n\r\n// FC\r\nconst ProfileStatusWithHooks: React.FC<PropsType> = (props) => {\r\n        // Hook useState\r\n        // local state 1 (editMode)\r\n        let [editMode, setEditMode]  = useState(false);\r\n\r\n        const activateMode = () => {\r\n                setEditMode(true); // Изменение режима редактирования в local state\r\n        }\r\n\r\n        const deactivateEditMode = () => {\r\n                setEditMode(false); // // Изменение режима редактирования в local state\r\n                props.updateStatus(status); // Изменение status в state\r\n        }\r\n\r\n        // local state 2 (status)\r\n        let [status, setStatus]  = useState(props.status);\r\n\r\n        const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n                setStatus(e.currentTarget.value) //Изменение status в local state\r\n        }\r\n\r\n        // Hook useEffect (выполняемая функция, [данные от которых зависит выполнение функции])\r\n        // Синхронизация локального state актуальными данными\r\n        useEffect( () => {\r\n                setStatus(props.status);\r\n        }, [props.status]);\r\n\r\n        return (\r\n            <div>\r\n                {/* Режим редактирования ВЫКЛ - false */}       \r\n                { !editMode &&\r\n                    <StyledStatusWrapper onClick={activateMode}>\r\n                        <StyledProfileStatusTitle>Status</StyledProfileStatusTitle>\r\n                        <div >{props.status || '--------'}</div>\r\n                    </StyledStatusWrapper>\r\n                }\r\n\r\n                {/* Режим редактирования ВКЛ - true */}\r\n                {editMode &&\r\n                    <StyledProfileStatusWrapper>\r\n                        <StyledInput onBlur={deactivateEditMode}\r\n                               onChange={onStatusChange} value={status}\r\n                               autoFocus={true} background={props.backgroundInput}  />\r\n                    </StyledProfileStatusWrapper>\r\n                }\r\n            </div>\r\n        );\r\n};\r\n\r\nexport default ProfileStatusWithHooks;\r\n\r\n// Style\r\n// Input\r\ntype FormItemType = {\r\n        onBlur?: () => void\r\n        onChange?: (e: ChangeEvent<HTMLInputElement>) => void\r\n        autoFocus?: boolean\r\n        value?: string\r\n}\r\n\r\ntype StyledFormItemTextType = {\r\n        background?: string\r\n        fullWidth?: boolean\r\n} & FormItemType\r\n\r\nconst StyledInput = styled.input<StyledFormItemTextType>`\r\n  padding: 10px 10px;\r\n  border-radius: 15px;\r\n  border-width: 0;\r\n  width: 100%;\r\n  outline: none;\r\n  \r\n  background-color: ${props => props.background};\r\n  \r\n  &:focus {\r\n    box-shadow: 0 0 10px 2px #3672f4;\r\n  }\r\n  \r\n  &::placeholder {\r\n    //color: white;\r\n  }\r\n`\r\n\r\n// Info\r\nconst StyledStatusWrapper = styled.div`\r\n  margin-top: 20px;      \r\n  margin-bottom: 20px;      \r\n        \r\n  cursor: pointer;\r\n`\r\n\r\nconst StyledProfileStatusTitle = styled.h4`\r\n  margin-top: 20px;\r\n  margin-bottom: 5px;\r\n  max-width: 200px;\r\n  \r\n  font-size: 20px;\r\n  box-shadow: 0 2px 0 0 #3672f4;\r\n`\r\n\r\nconst StyledProfileStatusWrapper = styled.div`\r\n  margin-top: 40px;\r\n  padding-bottom: 10px;\r\n\r\n`","import React from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Checkbox, Input, Textarea} from \"../../../common/FormsControls/FormsControls\";\r\nimport style from \"./../../../common/FormsControls/FormControls.module.css\";\r\nimport s from \"./../ProfileInfo.module.css\";\r\nimport {ProfileType} from \"../../../../types/types\";\r\nimport Button from \"../../../StyledComponents/Button\";\r\nimport Flex from \"../../../StyledComponents/Flex\";\r\nimport Container from \"../../../StyledComponents/Container\";\r\nimport Li from \"../../../StyledComponents/Li\";\r\nimport styled from \"styled-components\";\r\n\r\n// Type (TS)\r\ntype PropsType = {\r\n    profile: ProfileType\r\n}\r\ntype ProfileFormValuesType = {}\r\n\r\n// FC\r\nconst ProfileDataForm: React.FC<InjectedFormProps<ProfileFormValuesType, PropsType> & PropsType> = ({handleSubmit, profile, error}) => {\r\n    return (\r\n        <Container margin='20px 0'>\r\n            <form onSubmit={handleSubmit}>\r\n                <ul>\r\n                    {error && <div className={style.formSummaryError}>\r\n                        {error}\r\n                    </div> }\r\n\r\n                    <Li>\r\n                        <Flex align='center'>\r\n                            <StyledItemTitleWrapper>Full name</StyledItemTitleWrapper> <Container> <Field placeholder=\"Full name\" name=\"fullName\" component={Input} /> </Container>\r\n                        </Flex>\r\n                    </Li>\r\n\r\n                    <Li>\r\n                        <Flex align='center'>\r\n                            <StyledItemTitleWrapper>Looking for a job:</StyledItemTitleWrapper> <Container margin='0 0 0 10px'><Field name=\"lookingForAJob\" component={Checkbox} type=\"checkbox\" /></Container>\r\n                        </Flex>\r\n                    </Li>\r\n\r\n                    <Li>\r\n                        <Flex align='center'>\r\n                            <StyledItemTitleWrapper>My professional skills</StyledItemTitleWrapper> <Container> <Field placeholder=\"My professional skills\" name=\"lookingForAJobDescription\" component={Textarea}  /> </Container>\r\n                        </Flex>\r\n                    </Li>\r\n\r\n                    <Li>\r\n                        <Flex align='center'>\r\n                            <StyledItemTitleWrapper>About me</StyledItemTitleWrapper> <Container> <Field placeholder=\"About me\" name=\"aboutMe\" component={Textarea}  /> </Container>\r\n                        </Flex>\r\n                    </Li>\r\n\r\n                    <Li>\r\n                        <StyledItemSubTitleWrapper>Contacts</StyledItemSubTitleWrapper>\r\n                        <ul>\r\n                            <Container padding='0 0 0 15px'>\r\n                                {Object.keys(profile.contacts).map(key => {\r\n                                    return (\r\n                                        <Li>\r\n                                            <Flex align='center'>\r\n                                                <StyledItemTitleWrapper>{key}</StyledItemTitleWrapper> <Container> <Field placeholder={key} name={\"contacts.\" + key} component={Input}/> </Container>\r\n                                            </Flex>\r\n                                        </Li>\r\n                                    )\r\n                                })}\r\n                            </Container>\r\n                        </ul>\r\n\r\n                    </Li>\r\n\r\n                    <Flex margin='10px 0 35px 0 ' justify='flex-end'>\r\n                        <Button>Save</Button>\r\n                    </Flex>\r\n                </ul>\r\n            </form>\r\n        </Container>\r\n    )\r\n}\r\n\r\n// HOC (reduxForm)\r\nconst ProfileDataReduxForm = reduxForm<ProfileFormValuesType, PropsType>({form: 'edit-profile'}) (ProfileDataForm);\r\n\r\nexport default ProfileDataReduxForm;\r\n\r\n// Style\r\nconst StyledItemTitleWrapper = styled.div`\r\n  margin-right: 10px; \r\n  \r\n  font-weight: 500;\r\n`\r\n\r\nconst StyledItemSubTitleWrapper = styled.div`\r\n  margin-top: 15px;\r\n  margin-right: 10px;\r\n  max-width: 110px;\r\n  box-shadow: 0 1px 0 0 #3672f4;\r\n  \r\n  font-size: 20px;\r\n  font-weight: 500;\r\n`","import React, {ChangeEvent, useState} from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport userPhoto from \"../../../assets/images/user.png\";\r\nimport ProfileDataForm from \"./ProfileDataForm/ProfileDataForm\";\r\nimport {ContactsType, ProfileType} from '../../../types/types';\r\nimport Button from \"../../StyledComponents/Button\";\r\nimport styled from \"styled-components\";\r\nimport Flex from \"../../StyledComponents/Flex\";\r\nimport Li from \"../../StyledComponents/Li\";\r\n\r\n// Type (TS)\r\ntype PropsType = {\r\n    profile: ProfileType | null\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    isOwner: boolean\r\n    isAuth?: boolean\r\n    savePhoto: (file: File) => void\r\n    saveProfile: (profile: ProfileType) => any\r\n    backgroundInput?: string\r\n}\r\n\r\n// FC\r\nconst ProfileInfo: React.FC<PropsType> = ({profile, status, updateStatus, isOwner, savePhoto, saveProfile, backgroundInput}) => {\r\n    // Hook useState\r\n    // local state (editMode)\r\n    let [editMode, setEditMode] = useState(false);\r\n\r\n    let [editAva, setEditAva] = useState(false);\r\n\r\n\r\n    function onChangeAva() {\r\n        if (!editAva) {\r\n            setEditAva(true)\r\n        } else {\r\n            setEditAva(false)\r\n        }\r\n    }\r\n\r\n\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    const onMainPhotoSelect = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files?.length) {\r\n            savePhoto(e.target.files[0]);\r\n        }\r\n    };\r\n\r\n    const onSubmit = (formData: ProfileType) => {\r\n        // todo: remove then\r\n        saveProfile(formData).then(() => {\r\n            setEditMode(false);\r\n            setEditMode(false);\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n\r\n                {/* Аватарка пользователя */}\r\n                <div>\r\n                    <StyledAvaWrapper>\r\n                        <img onClick={() => onChangeAva()} src={profile.photos.large || userPhoto} className={s.mainPhoto}/>\r\n                    </StyledAvaWrapper>\r\n\r\n                    {isOwner && editAva && <StyledInputAvaWrapper><input type=\"file\" onChange={onMainPhotoSelect}/></StyledInputAvaWrapper>}\r\n                </div>\r\n\r\n                <StyledProfileName>{profile.fullName}</StyledProfileName>\r\n\r\n                {/* Статус пользователя */}\r\n                <ProfileStatusWithHooks status={status} updateStatus={updateStatus} backgroundInput={backgroundInput} />\r\n\r\n                {/* Информация о пользователе */}\r\n                <StyledProfileInfoTitle>User information</StyledProfileInfoTitle>\r\n                {editMode ?\r\n                    <ProfileDataForm onSubmit={onSubmit as any} initialValues={profile} profile={profile} /> :\r\n                    <ProfileData profile={profile} isOwner={isOwner} goToEditMode={() => {\r\n                        setEditMode(true)\r\n                    }}/>}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Type (TS)\r\ntype ProfileDataPropsType = {\r\n    profile: ProfileType\r\n    isOwner: boolean\r\n    goToEditMode: () => void\r\n\r\n    // Style\r\n    background?: string\r\n}\r\n\r\n// FC\r\nconst ProfileData: React.FC<ProfileDataPropsType> = ({profile, isOwner, goToEditMode}) => {\r\n    return (\r\n        <StyledInfoWrapper>\r\n            <ul>\r\n                <Li>\r\n                    <b>Full name:</b> {profile.fullName}\r\n                </Li>\r\n\r\n                <Li margin='5px 0'>\r\n                    <b>Looking for a job:</b> {profile.lookingForAJob ? \"yes\" : \"no\"}\r\n                </Li>\r\n\r\n                {profile.lookingForAJob &&\r\n                <Li>\r\n                    <b>My professional skills:</b> {profile.lookingForAJobDescription}\r\n                </Li>}\r\n\r\n                <Li margin='5px 0'>\r\n                    <b>About me:</b> {profile.aboutMe}\r\n                </Li>\r\n\r\n                <Li>\r\n                    <b>Contacts:</b>\r\n\r\n                    <ul>\r\n                        {Object\r\n                            .keys(profile.contacts)\r\n                            .map((key) => {\r\n                                return (\r\n                                    <ContactItem key={key} contactTitle={key} contactValue={profile.contacts[key as keyof ContactsType]}/>\r\n                                )\r\n                            })}\r\n                    </ul>\r\n\r\n                </Li>\r\n            </ul>\r\n\r\n            {isOwner && <Button padding='5px 40px' margin='10px 0 0 0' onClick={goToEditMode}>Edit</Button>}\r\n        </StyledInfoWrapper>\r\n\r\n    )\r\n}\r\n\r\n\r\n// Type (TS)\r\ntype ContactsPropsType = {\r\n    contactTitle: string\r\n    contactValue: string\r\n}\r\n\r\n\r\n// FC\r\nconst ContactItem: React.FC<ContactsPropsType> = ({contactTitle, contactValue}) => {\r\n    return (\r\n        <Li margin='0 0 3px 20px'>\r\n            {contactValue && <Contact contactTitle={contactTitle} contactValue={contactValue} />}\r\n        </Li>\r\n    )\r\n}\r\n\r\nconst Contact: React.FC<ContactsPropsType> = ({contactTitle, contactValue}) => {\r\n    return (\r\n        <div>\r\n            <b>{contactTitle}:</b> {contactValue}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;\r\n\r\n// Style\r\n// Ava\r\nconst StyledAvaWrapper = styled.div`\r\n      margin-top: 20px;\r\n      max-width: 200px;\r\n      border-radius: 20px;\r\n  \r\n    &:hover {\r\n      box-shadow: 0 0 15px 1px #3672f4;\r\n    }\r\n`\r\n\r\n\r\nconst StyledInputAvaWrapper = styled.div`\r\n  margin-top: 10px;\r\n  margin-bottom: 20px;\r\n`\r\n\r\n// Info\r\nconst StyledProfileInfoTitle = styled.h4`\r\n  margin-top: 40px;\r\n  max-width: 200px;\r\n  \r\n  font-size: 20px;\r\n  box-shadow: 0 1px 0 0 #3672f4;\r\n`\r\n\r\nconst StyledInfoWrapper = styled.div`\r\n  margin-top: 20px;\r\n  margin-bottom: 20px;\r\n`\r\n\r\nconst StyledProfileName = styled.h4`\r\n  margin-top: 5px;\r\n  margin-bottom: 5px;\r\n  max-width: 200px;\r\n  \r\n  font-size: 20px;\r\n  box-shadow: 0 2px 0 0 #f44336;\r\n`\r\n\r\n","import React from 'react';\r\nimport s from './Post.module.css';\r\nimport userPhoto from \"../../../../assets/images/user.png\";\r\nimport Flex from \"../../../StyledComponents/Flex\";\r\nimport Container from \"../../../StyledComponents/Container\";\r\nimport styled from \"styled-components\";\r\nimport like from '../../../../assets/images/like.png'\r\nimport {PostType} from \"../../../../types/types\";\r\n\r\n// Type (TS)\r\ntype PropsType = {\r\n    message: string\r\n    likesCount: number\r\n    photo?: string\r\n    backgroundPosts?: string\r\n}\r\n\r\n\r\n// FC\r\nconst Post: React.FC<PropsType> = (props) => {\r\n    return (\r\n        <StyledPostWrapper backgroundPosts={props.backgroundPosts}>\r\n            <div className={s.item}>\r\n                <Flex align='center'>\r\n                    <div>\r\n                        <img src={props.photo || userPhoto} />\r\n                    </div>\r\n\r\n                    <Flex direction='column' margin='0 0 0 15px'>\r\n                        {props.message}\r\n\r\n                        <StyledLikeWrapper>\r\n                            <StyledLike />\r\n\r\n                            <div>{props.likesCount}</div>\r\n                        </StyledLikeWrapper>\r\n                    </Flex>\r\n                </Flex>\r\n\r\n            </div>\r\n        </StyledPostWrapper>\r\n    );\r\n};\r\n\r\nexport default Post;\r\n\r\n// Style\r\ntype StyledPostWrapperType = {\r\n    backgroundPosts?: string\r\n}\r\n\r\nconst StyledPostWrapper = styled.div<StyledPostWrapperType>`\r\n  margin-bottom: 30px;\r\n  padding: 10px 20px;\r\n  max-width: 900px;\r\n  border-radius: 20px;\r\n  box-shadow: 0 0 10px 1px rgba(54,114,244,0.6);\r\n  background-color: ${props => props.backgroundPosts};\r\n  \r\n  word-wrap: anywhere;\r\n`\r\n\r\nconst StyledLike = styled.div`\r\n  margin-right: 6px;\r\n  width: 20px;\r\n  height: 20px;\r\n  \r\n  background-image: url(${like});\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n`\r\n\r\nconst StyledLikeWrapper = styled.div`\r\n  display: flex;\r\n  margin-top: 6px;\r\n  padding: 2px 10px;\r\n  max-width: 70px;\r\n  border-radius: 20px;\r\n  \r\n  background-color: rgba(54,114,244,0.6);\r\n`\r\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport {Field, FormAction, InjectedFormProps, reduxForm} from \"redux-form\"; // Новая версия\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\nimport {PostType} from \"../../../types/types\";\r\nimport Button from \"../../StyledComponents/Button\";\r\nimport styled from \"styled-components\";\r\nimport Container from \"../../StyledComponents/Container\";\r\nimport {RouteComponentProps} from \"react-router-dom\";\r\n\r\n// Создатель валидатора\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\n// Type (TS)\r\nexport type MapPropsType = {\r\n    posts: Array<PostType>\r\n    photo?: string\r\n    backgroundPosts?: string\r\n}\r\n\r\nexport type DispatchPropsType = {\r\n    addPost: (newPostText: string) => void\r\n    reset: (form: string) => FormAction\r\n}\r\n\r\ntype PathParamsType = {\r\n    userId: string\r\n}\r\n\r\n// FC\r\nconst MyPosts: React.FC<MapPropsType & RouteComponentProps<PathParamsType> & DispatchPropsType> = React.memo(props => {\r\n    let postsElements = [...props.posts]\r\n        .reverse()\r\n        .map(p => <Post key={p.id} message={p.message} likesCount={p.likesCount} photo={props.photo} backgroundPosts={props.backgroundPosts} />);\r\n\r\n\r\n    let onAddPost = (formData: AddPostFormValuesType) => {\r\n        props.addPost(formData.newPostText);\r\n        props.reset('profile')\r\n    };\r\n\r\n    return (\r\n        <Container>\r\n            <StyledProfilePostTitle>{!props.match.params.userId ? 'My posts' : 'Posts'}</StyledProfilePostTitle>\r\n\r\n            {!props.match.params.userId && <AddNewPostReduxForm onSubmit={onAddPost}/>}\r\n\r\n            <StyledPostsWrapper >\r\n                {postsElements}\r\n            </StyledPostsWrapper>\r\n        </Container>\r\n    );\r\n});\r\n\r\n\r\n// Форма для добавления постов\r\n// Type (TS)\r\ntype PropsFormType = {}\r\ntype AddPostFormValuesType = {\r\n    newPostText: string\r\n}\r\n\r\n// FC\r\nconst AddNewPostForm: React.FC<InjectedFormProps<AddPostFormValuesType, PropsFormType> & PropsFormType> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea} name=\"newPostText\" validate={[required]} placeholder=\"Enter post text...\" />\r\n            </div>\r\n\r\n            <div>\r\n                <Button margin='0 0 10px 0'>Add post</Button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\n\r\n// Обертка формы от ReduxForm\r\nconst AddNewPostReduxForm = reduxForm<AddPostFormValuesType, PropsFormType>(\r\n    {\r\n        // a unique name for the form (уникальное имя для данной формы)\r\n        form: 'profile'\r\n    }\r\n) (AddNewPostForm)\r\n\r\nexport default MyPosts;\r\n\r\n// Style\r\nconst StyledProfilePostTitle = styled.h4`\r\n  margin-top: 35px;\r\n  margin-bottom: 5px;\r\n  max-width: 200px;\r\n  \r\n  font-size: 20px;\r\n  box-shadow: 0 1px 0 0 #3672f4;\r\n  \r\n`\r\n\r\n\r\n\r\nconst StyledPostsWrapper = styled.div` \r\n    margin-top: 20px;\r\n`","import React from 'react';\r\nimport {actions, getStatus, getUserProfile, savePhoto, saveProfile, updateStatus} from \"../../../redux/profileReducer\";\r\nimport MyPosts, {DispatchPropsType, MapPropsType} from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../../redux/reduxStore\";\r\nimport {reset} from \"redux-form\";\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        backgroundPosts: state.app.theme.section.backgroundSecondary,\r\n        photo: state.profilePage.profile?.photos.large as string\r\n    };\r\n};\r\n\r\n\r\n// const MyPostsContainer = connect<MapPropsType, DispatchPropsType, {}, AppStateType>(mapStateToProps, {addPost: actions.addPostActionCreator, reset}) (MyPosts);\r\n\r\nconst MyPostsContainer = compose<React.ComponentType>(\r\n    connect<MapPropsType, DispatchPropsType, {}, AppStateType>(mapStateToProps, {addPost: actions.addPostActionCreator, reset}),\r\n    withRouter,\r\n) (MyPosts);\r\n\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport {ProfileType} from \"../../types/types\";\r\nimport TitleSection from \"../StyledComponents/TitleSection\";\r\nimport Container from \"../StyledComponents/Container\";\r\nimport Flex from \"../StyledComponents/Flex\";\r\n\r\n// Type (TS)\r\ntype PropsType = {\r\n    profile: ProfileType | null\r\n    status: string\r\n    isOwner: boolean\r\n    updateStatus: (status: string) => void\r\n    savePhoto: (file: File) => void\r\n    saveProfile: (profile: ProfileType) => Promise<any>\r\n    backgroundInput?: string\r\n    isAuth?: boolean\r\n}\r\n\r\n// FC\r\nconst Profile: React.FC<PropsType> = (props) => {\r\n    return (\r\n        <Flex justify='center'>\r\n            <Container padding='10px 30px' maxWidth='900px'>\r\n                <TitleSection title={props.isOwner ? 'Profile' : 'User'}/>\r\n\r\n                <ProfileInfo profile={props.profile} status={props.status}\r\n                             updateStatus={props.updateStatus} isOwner={props.isOwner}\r\n                             savePhoto={props.savePhoto}\r\n                             saveProfile={props.saveProfile}\r\n                             backgroundInput={props.backgroundInput}\r\n                             isAuth={props.isAuth}\r\n                />\r\n\r\n                <MyPostsContainer />\r\n            </Container>\r\n        </Flex>\r\n\r\n    );\r\n};\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile} from \"../../redux/profileReducer\";\r\nimport {compose} from \"redux\";\r\nimport {AppStateType} from \"../../redux/reduxStore\";\r\nimport {ProfileType} from \"../../types/types\";\r\nimport Section from \"../StyledComponents/Section\";\r\n\r\n\r\n// Type (TS)\r\ntype MapPropsType = ReturnType<typeof mapStateToProps>\r\n\r\ntype DispatchPropsType = {\r\n    getUserProfile: (userId: number) => void\r\n    getStatus: (userId: number) => void\r\n    updateStatus: (status: string) => void\r\n    savePhoto: (file: File) => void\r\n    saveProfile: (profile: ProfileType) => Promise<any>\r\n}\r\n\r\ntype PathParamsType = {\r\n    userId: string\r\n}\r\n\r\ntype PropsType = MapPropsType & DispatchPropsType & RouteComponentProps<PathParamsType>\r\n\r\n\r\n// CC\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n    // Метод обновления данных профиля\r\n    refreshProfile() {\r\n        let userId: number | null  = +this.props.match.params.userId;\r\n\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n\r\n            // Плохая практика (применять только в исключительных случиях) (это аналог <Redirect to=\"/login\" />)\r\n            if (!userId) {\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        };\r\n\r\n        if (!userId) {\r\n            console.error(\"ID should exist in URI params or in state ('authorizedUserId')\")\r\n        } else {\r\n            // Получение Profile dispatch(thunk)\r\n            this.props.getUserProfile(userId);\r\n\r\n            // Получение Status (статуса пользователя) dispatch(thunk)\r\n            this.props.getStatus(userId);\r\n        }\r\n    }\r\n\r\n\r\n    // При завершения отрисовки компоненты (метод жизненного цикла)\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n\r\n    // Перерисовка компоненты при изменении (props или state) (метод жизненного цикла)\r\n    componentDidUpdate(prevProps: PropsType, prevState: PropsType) {\r\n        // Условный оператор для предотвращения зацикливания\r\n        if (prevProps.match.params.userId !== this.props.match.params.userId) {\r\n            this.refreshProfile();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Section height='100%' background={this.props.background}>\r\n                <Profile {...this.props} profile={this.props.profile}\r\n                         status={this.props.status}\r\n                         updateStatus={this.props.updateStatus}\r\n                         isOwner={!this.props.match.params.userId}\r\n                         savePhoto={this.props.savePhoto}\r\n                         saveProfile={this.props.saveProfile}\r\n                         backgroundInput={this.props.backgroundInput}\r\n                />\r\n            </Section>\r\n        );\r\n    }\r\n};\r\n\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    isAuth: state.auth.isAuth,\r\n    authorizedUserId: state.auth.userId,\r\n\r\n    // Style\r\n    background: state.app.theme.section.background,\r\n    backgroundInput: state.app.theme.sidebar.backgroundSecondary\r\n});\r\n\r\n\r\n// Функция compose (хорошая практика)\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile}),\r\n    withRouter,\r\n) (ProfileContainer);\r\n\r\n// Аналог (плохая практика)\r\n// // Работа с HOC\r\n// let AuthRedirectComponent = withAuthRedirect(ProfileContainer);\r\n//\r\n//\r\n// // Дополнительная контейнерная компонента для передачи URL параметра\r\n// let WithUrlDataContainerComponent = withRouter(AuthRedirectComponent);\r\n//\r\n// // connect с коротокой записью mapStateToDispatch (второй параметр)\r\n// export default connect(mapStateToProps, {getUserProfile}) (WithUrlDataContainerComponent);"],"sourceRoot":""}